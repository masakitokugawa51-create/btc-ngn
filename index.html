<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="theme-color" content="#0A0A0A">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="BTC/NGN">
  
  <!-- SEO -->
  <title>Bitcoin to Naira Converter | BTC to NGN Live Rate | Free Calculator</title>
  <meta name="description" content="Convert Bitcoin to Nigerian Naira instantly. Free BTC to NGN calculator with live exchange rates updated every 15 seconds. Trusted by Nigerian crypto traders.">
  <meta name="keywords" content="bitcoin to naira, btc to ngn, bitcoin naira converter, bitcoin naira calculator, btc ngn rate, bitcoin price naira, crypto naira, bitcoin nigeria">
  <link rel="canonical" href="https://btc-ngn.vercel.app/">
  
  <!-- Open Graph -->
  <meta property="og:title" content="Bitcoin to Naira Converter | Live BTC/NGN Rate">
  <meta property="og:description" content="Convert Bitcoin to Nigerian Naira instantly with live rates. Free, fast, no signup required.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://btc-ngn.vercel.app/">
  <meta property="og:image" content="https://btc-ngn.vercel.app/og-image.png">
  
  <!-- PWA -->
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png">
  <link rel="apple-touch-icon" href="/icon-192.png">
  
  <!-- Preconnect -->
  <link rel="preconnect" href="https://api.coingecko.com">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- AdSense placeholder - replace with your actual AdSense code -->
  <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX" crossorigin="anonymous"></script> -->

  <style>
    :root {
      --bg: #0A0A0A;
      --surface: #1A1A1E;
      --surface-active: #222226;
      --border: #2A2A2E;
      --border-active: #3A3A3E;
      --text: #FAFAFA;
      --text-dim: #888892;
      --text-muted: #555560;
      --accent: #F7931A;
      --accent-glow: rgba(247, 147, 26, 0.12);
      --accent-border: rgba(247, 147, 26, 0.25);
      --ng-green: #008751;
      --ng-green-glow: rgba(0, 135, 81, 0.10);
      --ng-green-border: rgba(0, 135, 81, 0.25);
      --green: #00C853;
      --green-dim: rgba(0, 200, 83, 0.12);
      --red: #FF3B30;
      --red-dim: rgba(255, 59, 48, 0.12);
      --safe-top: env(safe-area-inset-top, 0px);
      --safe-bottom: env(safe-area-inset-bottom, 0px);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    
    html, body {
      height: 100%;
      overflow: hidden;
      background: var(--bg);
      color: var(--text);
      font-family: 'DM Sans', -apple-system, sans-serif;
      -webkit-font-smoothing: antialiased;
      user-select: none;
      -webkit-user-select: none;
    }

    .app {
      display: flex;
      flex-direction: column;
      height: 100%;
      max-width: 480px;
      margin: 0 auto;
      padding-top: max(8px, var(--safe-top));
      padding-bottom: max(8px, var(--safe-bottom));
      padding-left: 16px;
      padding-right: 16px;
    }

    /* --- Premium Banner --- */
    .premium-banner {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 8px 18px;
      margin: 4px auto 0;
      background: var(--accent-glow);
      border: 1px solid var(--accent-border);
      border-radius: 20px;
      cursor: pointer;
      transition: transform 0.15s, background 0.2s;
    }
    .premium-banner:active { transform: scale(0.96); }
    .premium-banner span { font-size: 13px; font-weight: 600; color: var(--accent); }

    /* --- Rate Bar --- */
    .rate-bar {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 10px 0;
    }
    .rate-label { color: var(--text-dim); font-size: 12px; }
    .rate-value {
      font-size: 14px;
      font-weight: 700;
      font-family: 'Space Mono', monospace;
      transition: color 0.3s;
    }
    .rate-value.up { color: var(--green); }
    .rate-value.down { color: var(--red); }
    .change-badge {
      font-size: 11px;
      font-weight: 600;
      padding: 2px 6px;
      border-radius: 6px;
    }
    .change-badge.positive { color: var(--green); background: var(--green-dim); }
    .change-badge.negative { color: var(--red); background: var(--red-dim); }

    /* --- Currency Fields --- */
    .fields-wrapper { position: relative; }
    
    .field {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 16px;
      border-radius: 16px;
      border: 2px solid var(--border);
      background: var(--surface);
      cursor: pointer;
      transition: border-color 0.2s, background 0.2s, transform 0.1s;
    }
    .field:active { transform: scale(0.98); }
    .field.active-btc {
      border-color: var(--accent-border);
      background: var(--accent-glow);
    }
    .field.active-ngn {
      border-color: var(--ng-green-border);
      background: var(--ng-green-glow);
    }
    .field + .field { margin-top: 10px; }

    .field-left { display: flex; align-items: center; }
    
    .currency-icon {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      font-weight: 700;
      flex-shrink: 0;
    }
    .currency-icon.btc { background: #F7931A; color: #fff; font-family: 'Space Mono', monospace; }
    .currency-icon.ngn { background: var(--ng-green); font-size: 20px; }

    .currency-label {
      margin-left: 10px;
      font-size: 16px;
      font-weight: 600;
    }

    .field-value {
      font-size: 28px;
      font-weight: 600;
      font-family: 'Space Mono', monospace;
      text-align: right;
      flex: 1;
      margin-left: 12px;
      overflow: hidden;
      white-space: nowrap;
      transition: color 0.2s;
    }
    .field-value.dim { color: var(--text-dim); }
    .field-value.small { font-size: 20px; }

    /* --- Swap Button --- */
    .swap-btn {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 10;
      width: 44px;
      height: 44px;
      border-radius: 12px;
      background: var(--surface);
      border: 2px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
      transition: transform 0.15s;
      font-size: 20px;
      font-weight: 700;
      color: var(--text);
    }
    .swap-btn:active { transform: translateY(-50%) scale(0.9); }

    /* --- Ad Banner Slot --- */
    .ad-slot {
      min-height: 50px;
      margin: 8px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--surface);
      border-radius: 8px;
      border: 1px dashed var(--border);
      color: var(--text-muted);
      font-size: 11px;
      flex-shrink: 0;
    }

    /* --- Numpad --- */
    .numpad {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding: 12px 0;
      justify-content: center;
      min-height: 0;
    }
    .numpad-row {
      display: flex;
      gap: 10px;
    }
    .num-key {
      flex: 1;
      height: 58px;
      border-radius: 14px;
      background: var(--surface);
      border: none;
      color: var(--text);
      font-size: 24px;
      font-weight: 500;
      font-family: 'DM Sans', sans-serif;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.1s, transform 0.1s;
      -webkit-tap-highlight-color: transparent;
    }
    .num-key:active {
      background: var(--surface-active);
      transform: scale(0.95);
    }
    .num-key.clear {
      background: var(--red-dim);
      color: var(--red);
    }
    .num-key.clear:active { background: rgba(255, 59, 48, 0.2); }

    /* --- Footer --- */
    .footer {
      text-align: center;
      padding: 4px 0 2px;
      flex-shrink: 0;
    }
    .footer-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }
    .footer-text { color: var(--text-muted); font-size: 12px; }
    .footer-cta {
      color: var(--accent);
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      margin-top: 2px;
    }

    /* --- Paywall Overlay --- */
    .paywall-overlay {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 100;
      background: var(--bg);
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 32px 24px;
    }
    .paywall-overlay.open { display: flex; }
    
    .paywall-close {
      position: absolute;
      top: max(16px, var(--safe-top));
      right: 16px;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--surface);
      border: none;
      color: var(--text-dim);
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .paywall-gift { font-size: 64px; margin-bottom: 16px; }
    .paywall-title { font-size: 28px; font-weight: 700; margin-bottom: 24px; }
    
    .paywall-feature {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 15px;
      padding: 8px 0;
      width: 100%;
      max-width: 300px;
    }
    .paywall-feature .icon { font-size: 24px; flex-shrink: 0; }

    .paywall-plans { width: 100%; max-width: 340px; margin-top: 28px; }
    
    .plan-card {
      padding: 16px;
      border-radius: 14px;
      background: var(--surface);
      border: 2px solid var(--border);
      margin-bottom: 12px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: border-color 0.2s;
    }
    .plan-card.selected {
      border-color: var(--accent);
      background: var(--accent-glow);
    }
    .plan-name { font-weight: 700; font-size: 15px; }
    .plan-price { color: var(--text-dim); font-size: 13px; margin-top: 2px; }
    .plan-price .old { text-decoration: line-through; color: var(--text-muted); margin-right: 4px; }
    .plan-badge {
      background: var(--red);
      color: #fff;
      font-size: 11px;
      font-weight: 700;
      padding: 3px 8px;
      border-radius: 6px;
    }
    .plan-check {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: var(--accent);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      font-weight: 700;
    }

    .paywall-cta {
      width: 100%;
      max-width: 340px;
      padding: 16px;
      border-radius: 14px;
      background: var(--accent);
      border: none;
      color: #fff;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      margin-top: 16px;
      transition: transform 0.15s;
      font-family: 'DM Sans', sans-serif;
    }
    .paywall-cta:active { transform: scale(0.97); }

    .paywall-links {
      display: flex;
      gap: 16px;
      margin-top: 12px;
      font-size: 12px;
    }
    .paywall-links a { color: var(--text-dim); text-decoration: underline; }
    .paywall-disclaimer {
      color: var(--text-muted);
      font-size: 10px;
      text-align: center;
      margin-top: 8px;
      max-width: 300px;
      line-height: 1.4;
    }

    /* --- SEO Content (hidden visually, visible to crawlers) --- */
    .seo-content {
      position: absolute;
      left: -9999px;
      width: 1px;
      height: 1px;
      overflow: hidden;
    }

    /* Responsive */
    @media (max-height: 700px) {
      .num-key { height: 48px; font-size: 20px; }
      .numpad { gap: 6px; padding: 6px 0; }
      .field { padding: 14px 16px; }
      .field-value { font-size: 24px; }
      .ad-slot { min-height: 40px; }
    }
    @media (max-height: 600px) {
      .num-key { height: 40px; font-size: 18px; }
      .premium-banner { padding: 5px 14px; margin-top: 2px; }
      .rate-bar { padding: 5px 0; }
    }
  </style>
</head>
<body>

<div class="app" id="app">
  <!-- Premium Banner -->
  <div class="premium-banner" onclick="openPaywall()">
    <span>üéÅ</span>
    <span>Unlock Premium</span>
  </div>

  <!-- Rate Bar -->
  <div class="rate-bar">
    <span class="rate-label">1 BTC =</span>
    <span class="rate-value" id="rateValue">Loading...</span>
    <span class="change-badge" id="changeBadge" style="display:none"></span>
  </div>

  <!-- Currency Fields -->
  <div class="fields-wrapper">
    <div class="field active-btc" id="btcField" onclick="handleFieldTap('btc')">
      <div class="field-left">
        <div class="currency-icon btc">‚Çø</div>
        <span class="currency-label">BTC</span>
      </div>
      <span class="field-value" id="btcValue">0</span>
    </div>

    <div class="swap-btn" onclick="handleSwap()">‚áÖ</div>

    <div class="field" id="ngnField" onclick="handleFieldTap('ngn')">
      <div class="field-left">
        <div class="currency-icon ngn">üá≥üá¨</div>
        <span class="currency-label">NGN</span>
      </div>
      <span class="field-value dim" id="ngnValue">0</span>
    </div>
  </div>

  <!-- Ad Slot -->
  <div class="ad-slot" id="adSlot">
    <!-- AdSense ad unit goes here -->
    Ad Space
  </div>

  <!-- Numpad -->
  <div class="numpad">
    <div class="numpad-row">
      <button class="num-key" onclick="handleKey('1')">1</button>
      <button class="num-key" onclick="handleKey('2')">2</button>
      <button class="num-key" onclick="handleKey('3')">3</button>
    </div>
    <div class="numpad-row">
      <button class="num-key" onclick="handleKey('4')">4</button>
      <button class="num-key" onclick="handleKey('5')">5</button>
      <button class="num-key" onclick="handleKey('6')">6</button>
    </div>
    <div class="numpad-row">
      <button class="num-key" onclick="handleKey('7')">7</button>
      <button class="num-key" onclick="handleKey('8')">8</button>
      <button class="num-key" onclick="handleKey('9')">9</button>
    </div>
    <div class="numpad-row">
      <button class="num-key" onclick="handleKey('.')">.</button>
      <button class="num-key" onclick="handleKey('0')">0</button>
      <button class="num-key clear" onclick="handleKey('C')">C</button>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer">
    <div class="footer-row">
      <span style="font-size:11px">üîÑ</span>
      <span class="footer-text" id="footerText">Last updated --:--</span>
    </div>
    <div class="footer-cta" onclick="openPaywall()">Unlock premium for live exchange rates</div>
  </div>
</div>

<!-- Paywall Overlay -->
<div class="paywall-overlay" id="paywall">
  <button class="paywall-close" onclick="closePaywall()">‚úï</button>
  <div class="paywall-gift">üéÅ</div>
  <div class="paywall-title">Unlock Premium</div>
  
  <div class="paywall-feature"><span class="icon">üí∞</span> Instantly convert BTC/NGN</div>
  <div class="paywall-feature"><span class="icon">üì°</span> No internet connection required</div>
  <div class="paywall-feature"><span class="icon">‚ö°</span> Live conversion rates</div>
  <div class="paywall-feature"><span class="icon">üö´</span> Remove annoying purchase screens</div>

  <div class="paywall-plans">
    <div class="plan-card" id="yearlyPlan" onclick="selectPlan('yearly')">
      <div>
        <div class="plan-name">Yearly Plan</div>
        <div class="plan-price"><span class="old">$59.99</span> $4.99/yr</div>
      </div>
      <span class="plan-badge">SAVE 93%</span>
    </div>
    <div class="plan-card selected" id="weeklyPlan" onclick="selectPlan('weekly')">
      <div>
        <div class="plan-name">3-Day Trial</div>
        <div class="plan-price">then $4.99 per week</div>
      </div>
      <div class="plan-check">‚úì</div>
    </div>
  </div>

  <button class="paywall-cta" onclick="handlePurchase()">Try for Free ‚Üí</button>

  <div class="paywall-links">
    <a href="#">Restore</a>
    <a href="#">Terms of Use & Privacy Policy</a>
  </div>
  <div class="paywall-disclaimer">
    Payment will be charged to your account. Subscription automatically renews unless cancelled at least 24 hours before the end of the current period.
  </div>
</div>

<!-- SEO Content for crawlers -->
<div class="seo-content">
  <h1>Bitcoin to Naira Converter - BTC to NGN Calculator</h1>
  <h2>Free Bitcoin to Nigerian Naira Exchange Rate Calculator</h2>
  <p>Convert Bitcoin (BTC) to Nigerian Naira (NGN) with our free online calculator. Get live exchange rates updated every 15 seconds. The most trusted Bitcoin to Naira converter in Nigeria.</p>
  <h2>How to Convert Bitcoin to Naira</h2>
  <p>Simply enter the amount of BTC or NGN you want to convert. Our calculator uses live market data from CoinGecko to give you the most accurate Bitcoin to Naira exchange rate.</p>
  <h2>Current BTC to NGN Rate</h2>
  <p>Check the current Bitcoin price in Nigerian Naira. Our rates are updated in real-time using data from major cryptocurrency exchanges.</p>
  <h3>Why use our Bitcoin to Naira converter?</h3>
  <p>Free to use, no registration required. Live rates from CoinGecko API. Works offline. Available as a Progressive Web App you can install on your phone.</p>
</div>

<!-- Structured Data for Rich Snippets -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Bitcoin to Naira Converter",
  "alternateName": "BTC to NGN Calculator",
  "description": "Convert Bitcoin to Nigerian Naira instantly with live exchange rates. Free, fast, no signup required.",
  "applicationCategory": "FinanceApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.8",
    "ratingCount": "1200"
  }
}
</script>

<script>
  // ‚ïê‚ïê‚ïê STATE ‚ïê‚ïê‚ïê
  let amount = '0';
  let direction = 'btc'; // 'btc' = typing BTC, 'ngn' = typing NGN
  let rate = 0;
  let prevRate = 0;
  let change24h = 0;
  let lastUpdated = null;
  let selectedPlan = 'weekly';
  let tapCount = 0;

  // ‚ïê‚ïê‚ïê DOM REFS ‚ïê‚ïê‚ïê
  const btcField = document.getElementById('btcField');
  const ngnField = document.getElementById('ngnField');
  const btcValue = document.getElementById('btcValue');
  const ngnValue = document.getElementById('ngnValue');
  const rateValueEl = document.getElementById('rateValue');
  const changeBadge = document.getElementById('changeBadge');
  const footerText = document.getElementById('footerText');
  const paywall = document.getElementById('paywall');

  // ‚ïê‚ïê‚ïê FETCH RATE ‚ïê‚ïê‚ïê
  async function fetchRate() {
    try {
      const url = 'https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=ngn&include_24hr_change=true&include_last_updated_at=true';
      const res = await fetch(url);
      if (!res.ok) throw new Error('API error');
      const json = await res.json();
      const data = json.bitcoin;

      if (rate !== 0) prevRate = rate;
      rate = data.ngn;
      change24h = Math.round((data.ngn_24h_change || 0) * 100) / 100;
      lastUpdated = new Date(data.last_updated_at * 1000);

      // Save to localStorage for offline
      localStorage.setItem('btc_ngn_rate', JSON.stringify({ rate, change24h, ts: Date.now() }));

      updateRateDisplay();
      updateConversion();
    } catch (e) {
      // Try cached rate
      const cached = localStorage.getItem('btc_ngn_rate');
      if (cached) {
        const data = JSON.parse(cached);
        rate = data.rate;
        change24h = data.change24h;
        lastUpdated = new Date(data.ts);
        updateRateDisplay();
        updateConversion();
      }
    }
  }

  function updateRateDisplay() {
    const dir = rate > prevRate ? 'up' : rate < prevRate ? 'down' : '';
    const arrow = dir === 'up' ? '‚ñ≤ ' : dir === 'down' ? '‚ñº ' : '';
    
    rateValueEl.textContent = arrow + '‚Ç¶' + rate.toLocaleString('en-US');
    rateValueEl.className = 'rate-value ' + dir;

    if (change24h !== 0) {
      changeBadge.style.display = 'inline';
      changeBadge.textContent = (change24h > 0 ? '+' : '') + change24h + '%';
      changeBadge.className = 'change-badge ' + (change24h > 0 ? 'positive' : 'negative');
    }

    if (lastUpdated) {
      footerText.textContent = 'Last updated ' + lastUpdated.toLocaleTimeString('en-US', {
        hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false
      });
    }
  }

  // ‚ïê‚ïê‚ïê CONVERSION ‚ïê‚ïê‚ïê
  function updateConversion() {
    const num = parseFloat(amount) || 0;
    if (rate === 0) return;

    if (direction === 'btc') {
      btcValue.textContent = amount;
      btcValue.className = 'field-value';
      
      const result = num * rate;
      let display;
      if (result >= 1e9) display = (result / 1e9).toFixed(2) + 'B';
      else if (result >= 1e6) display = (result / 1e6).toFixed(2) + 'M';
      else display = result.toLocaleString('en-US', { maximumFractionDigits: 0 });
      
      ngnValue.textContent = display;
      ngnValue.className = 'field-value dim' + (display.length > 12 ? ' small' : '');
      btcValue.className = 'field-value' + (amount.length > 12 ? ' small' : '');
    } else {
      ngnValue.textContent = amount;
      ngnValue.className = 'field-value';
      
      const result = num / rate;
      const display = result.toFixed(8);
      
      btcValue.textContent = display;
      btcValue.className = 'field-value dim' + (display.length > 12 ? ' small' : '');
      ngnValue.className = 'field-value' + (amount.length > 12 ? ' small' : '');
    }
  }

  // ‚ïê‚ïê‚ïê FIELD TAP ‚ïê‚ïê‚ïê
  function handleFieldTap(field) {
    if (direction === field) return;
    
    tapCount++;
    
    direction = field;
    amount = '0';

    btcField.className = field === 'btc' ? 'field active-btc' : 'field';
    ngnField.className = field === 'ngn' ? 'field active-ngn' : 'field';

    updateConversion();
  }

  // ‚ïê‚ïê‚ïê NUMPAD ‚ïê‚ïê‚ïê
  function handleKey(key) {
    if (key === 'C') {
      amount = '0';
      updateConversion();
      return;
    }
    if (key === '.' && amount.includes('.')) return;

    if (amount === '0' && key !== '.') {
      amount = key;
    } else if (amount.length < 15) {
      amount += key;
    }
    updateConversion();
  }

  // ‚ïê‚ïê‚ïê SWAP ‚ïê‚ïê‚ïê
  function handleSwap() {
    direction = direction === 'btc' ? 'ngn' : 'btc';
    amount = '0';

    btcField.className = direction === 'btc' ? 'field active-btc' : 'field';
    ngnField.className = direction === 'ngn' ? 'field active-ngn' : 'field';

    updateConversion();
  }

  // ‚ïê‚ïê‚ïê PAYWALL ‚ïê‚ïê‚ïê
  function openPaywall() { paywall.classList.add('open'); }
  function closePaywall() { paywall.classList.remove('open'); }
  
  function selectPlan(plan) {
    selectedPlan = plan;
    document.getElementById('weeklyPlan').classList.toggle('selected', plan === 'weekly');
    document.getElementById('yearlyPlan').classList.toggle('selected', plan === 'yearly');
  }

  function handlePurchase() {
    // TODO: Integrate Stripe or payment gateway
    alert('Payment integration coming soon! For now, enjoy the free version.');
    closePaywall();
  }

  // ‚ïê‚ïê‚ïê KEYBOARD SUPPORT ‚ïê‚ïê‚ïê
  document.addEventListener('keydown', (e) => {
    if (paywall.classList.contains('open')) {
      if (e.key === 'Escape') closePaywall();
      return;
    }
    if (e.key >= '0' && e.key <= '9') handleKey(e.key);
    else if (e.key === '.') handleKey('.');
    else if (e.key === 'Backspace') {
      amount = amount.length <= 1 ? '0' : amount.slice(0, -1);
      updateConversion();
    }
    else if (e.key === 'c' || e.key === 'C') handleKey('C');
    else if (e.key === 'Tab') { e.preventDefault(); handleSwap(); }
  });

  // ‚ïê‚ïê‚ïê INIT ‚ïê‚ïê‚ïê
  fetchRate();
  setInterval(fetchRate, 15000); // Update every 15 seconds

  // ‚ïê‚ïê‚ïê SERVICE WORKER ‚ïê‚ïê‚ïê
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js').catch(() => {});
  }
</script>

</body>
</html>
